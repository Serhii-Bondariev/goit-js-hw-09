{"mappings":"qhBACA,IAAAA,EAAAC,EAAA,S,aAO+B,IAA3BC,GAAc,EAGO,MAAnBC,EAAU,CAEeC,YAAjB,EAEkBC,WAAnB,EAEqCC,YAAnC,IAAIC,KAEUC,gBAAV,EAEgCC,QAAzCC,GAKgC,GAJjBA,EAAc,IACf,IAAIH,KAQtB,OAHAI,EAAAC,GAASC,OAAOC,QAAQ,2CAEIC,SAAnBC,eAAe,mBAAmBC,MAAQ,G,GAOnDC,GAAS,EAAAlB,EAAAmB,SAAU,mBAAoBhB,GA8E7C,SAASiB,EAAeH,GACtB,OAAOA,EAAMI,WAAWC,SAAS,EAAG,I,CA5ETP,SAApBC,eAAe,gBAAgBO,iBAAiB,SAAS,WAChE,GAAIrB,EAEiC,OAGrC,MAAMsB,EAAeN,EAAOR,cAAc,GAIJ,GAAlCc,GAHgB,IAAIjB,KAQtB,OAHAI,EAAAC,GAASC,OAAOC,QAAQ,2CAEIC,SAAnBC,eAAe,mBAAmBC,MAAQ,IAKFF,SAA1CC,eAAe,gBAAgBS,aAAa,YAAY,GAEvCvB,GAAZ,EAOkB,SAAVwB,GAE6B,MAA7CC,EAAgBC,YAAYC,EAAa,KAGrB,SAAjBA,IACP,MAAMC,EAAc,IAAIvB,KAClBwB,EAAiBL,EAAaI,EAGb,GAAnBC,GAAkB,EAOpB,OAL6BC,cAAfL,GAEczB,GAAd,EAEmCa,SAAxCC,eAAe,gBAAgBiB,gBAAgB,YACjDtB,EAAAC,GAASC,OAAOqB,QAAQ,uBAIiB,MAA5CC,KAAEA,EAAIC,MAAEA,EAAKC,QAAEA,EAAOC,QAAEA,GAWuB,SAAtCC,GACjB,MAAMC,EAAS,IACTC,EAAkB,GAATD,EACTE,EAAgB,GAATD,EACPE,EAAa,GAAPD,EAENP,EAAOS,KAAKC,MAAMN,EAAKI,GACvBP,EAAQQ,KAAKC,MAAMN,EAAMI,EAAOD,GAChCL,EAAUO,KAAKC,MAAMN,EAAOI,EAAOD,EAAQD,GAC3CH,EAAUM,KAAKC,MAAMN,EAAQI,EAAOD,EAAQD,EAAUD,GAE5D,MAAO,C,KAAEL,E,MAAMC,E,QAAOC,E,QAASC,E,CAtBaQ,CAAUf,GAGdhB,SAA7BgC,cAAc,eAAeC,YAAc5B,EAAee,GACnEpB,SAASgC,cAAc,gBAAgBC,YAAc5B,EAAegB,GACpErB,SAASgC,cAAc,kBAAkBC,YAAc5B,EAAeiB,GACtEtB,SAASgC,cAAc,kBAAkBC,YAAc5B,EAAekB,E,EA/B5BW,CAA7BzB,E","sources":["src/js/02-timer.js"],"sourcesContent":["// Імпортуємо бібліотеку flatpickr з пакету \"flatpickr\"\nimport flatpickr from \"flatpickr\";\n// Додаємо додатковий імпорт стилів для бібліотеки flatpickr\nimport \"flatpickr/dist/flatpickr.min.css\";\n// Імпортуємо бібліотеку Notiflix з пакету \"notiflix\"\nimport Notiflix from 'notiflix';\n\n// Флаг, що вказує на активність таймера\nlet timerActive = false;\n\n// Налаштування для бібліотеки flatpickr\nconst options = {\n  // Включаємо можливість вибору часу\n  enableTime: true,\n  // Встановлюємо 24-годинний формат часу\n  time_24hr: true,\n  // Встановлюємо поточну дату як значення за замовчуванням\n  defaultDate: new Date(),\n  // Інтервал вибору хвилин (1 хвилина)\n  minuteIncrement: 1,\n  // Функція, яка викликається при закритті вибору дати та часу\n  onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n    const currentDate = new Date();\n\n    // Перевіряємо, чи обрана дата не менше поточної\n    if (selectedDate <= currentDate) {\n      // Виводимо повідомлення користувачу, яке запитує обрати майбутню дату\n      Notiflix.Notify.warning(\"Please choose a date in the future\");\n      // Очищаємо поле вибору дати та часу\n      document.getElementById(\"datetime-picker\").value = \"\";\n      return;\n    }\n  },\n};\n\n// Ініціалізуємо об'єкт flatpickr зі вказаними налаштуваннями на полі з id \"datetime-picker\"\nconst picker = flatpickr(\"#datetime-picker\", options);\n\n// Додаємо обробник події для кнопки \"Start\"\ndocument.getElementById(\"start-button\").addEventListener(\"click\", function () {\n  if (timerActive) {\n    // Якщо таймер вже активний, не робимо нічого\n    return;\n  }\n\n  const selectedDate = picker.selectedDates[0];\n  const currentDate = new Date();\n\n  // Перевіряємо, чи обрана дата не менше поточної\n  if (selectedDate <= currentDate) {\n    // Виводимо повідомлення користувачу, яке запитує обрати майбутню дату\n    Notiflix.Notify.warning(\"Please choose a date in the future\");\n    // Очищаємо поле вибору дати та часу\n    document.getElementById(\"datetime-picker\").value = \"\";\n    return;\n  }\n\n  // Деактивуємо кнопку \"Start\", щоб не можна було запустити новий таймер\n  document.getElementById(\"start-button\").setAttribute(\"disabled\", true);\n  // Позначаємо таймер як активний\n  timerActive = true;\n\n  // Запускаємо функцію для початку зворотного відліку\n  startCountdown(selectedDate);\n});\n\n// Функція для початку зворотного відліку\nfunction startCountdown(targetDate) {\n  // Встановлюємо інтервал для оновлення таймера кожну секунду\n  const timerInterval = setInterval(updateTimer, 1000);\n\n  // Функція для оновлення таймера\n  function updateTimer() {\n    const currentDate = new Date();\n    const timeDifference = targetDate - currentDate;\n\n    // Перевіряємо, чи час не минув\n    if (timeDifference <= 0) {\n      // Якщо час минув, зупиняємо інтервал\n      clearInterval(timerInterval);\n      // Позначаємо таймер як неактивний\n      timerActive = false;\n      // Деактивуємо кнопку \"Start\", щоб можна було запустити новий таймер\n      document.getElementById(\"start-button\").removeAttribute(\"disabled\");\n      return Notiflix.Notify.success(\"Countdown finished!\");\n    }\n\n    // Розраховуємо дні, години, хвилини та секунди до обраної дати\n    const { days, hours, minutes, seconds } = convertMs(timeDifference);\n\n    // Оновлюємо відображення таймера на сторінці\n    document.querySelector(\"[data-days]\").textContent = addLeadingZero(days);\n    document.querySelector(\"[data-hours]\").textContent = addLeadingZero(hours);\n    document.querySelector(\"[data-minutes]\").textContent = addLeadingZero(minutes);\n    document.querySelector(\"[data-seconds]\").textContent = addLeadingZero(seconds);\n  }\n}\n\n// Функція для конвертації мілісекунд у дні, години, хвилини та секунди\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n// Функція для додавання лідируючого нуля до числа (форматування)\nfunction addLeadingZero(value) {\n  return value.toString().padStart(2, \"0\");\n}\n\n\n\n"],"names":["$fbklV","parcelRequire","$40d383fb392a7037$var$timerActive","$40d383fb392a7037$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","$parcel$interopDefault","$7Y9D8","Notify","warning","document","getElementById","value","$40d383fb392a7037$var$picker","default","$40d383fb392a7037$var$addLeadingZero","toString","padStart","addEventListener","selectedDate","setAttribute","targetDate","timerInterval","setInterval","updateTimer","currentDate","timeDifference","clearInterval","removeAttribute","success","days","hours","minutes","seconds","ms","second","minute","hour","day","Math","floor","$40d383fb392a7037$var$convertMs","querySelector","textContent","$40d383fb392a7037$var$startCountdown"],"version":3,"file":"02-timer.790f3a62.js.map"}